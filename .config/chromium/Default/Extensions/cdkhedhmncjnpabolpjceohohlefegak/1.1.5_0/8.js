(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{249:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=function(e,t,n,o){return new(n||(n=Promise))((function(a,c){function r(e){try{s(o.next(e))}catch(e){c(e)}}function i(e){try{s(o.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}s((o=o.apply(e,t||[])).next())}))};const a=()=>o(void 0,void 0,void 0,(function*(){const[t]=yield e.tabs.query({active:!0,currentWindow:!0});return t})),c=(t,n)=>o(void 0,void 0,void 0,(function*(){const{id:o,url:c}=yield a();return yield e.runtime.sendMessage(Object.assign({type:t,tabId:o,tabUrl:c},null!=n?n:{}))})),r=(e,t)=>o(void 0,void 0,void 0,(function*(){return yield c("savePopupToggle",{origin:e,action:t})})),i=e=>o(void 0,void 0,void 0,(function*(){return yield c("revertDomainControl",{origin:e})}))}).call(this,n(18))},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(22),n(27);var o=n(67),a=n(0),c=n.n(a),r=n(1),i=n(249),s=n(6);var l={name:"lviczn-titleCss",styles:"color:#6573ff;font-family:'Inter',sans-serif;font-size:16px;font-weight:600;line-height:1;padding:12px 8px;;label:titleCss;"},b={name:"1n2qqnt-optionsLabelCss",styles:"white-space:pre-wrap;width:calc(100% / 3);;label:optionsLabelCss;"},d={name:"m0hm40-TrackerSettings",styles:";label:TrackerSettings;"},p=e=>{var{trackers:t,title:n,height:a,labelBgColor:c,labelFontSize:i,lColWidthPercent:p,rColWidthPercent:u,alternateRowColors:f,cssOverrides:g,onActionChange:k,onRevert:h,onConfirmSiteBreak:v}=e,j=Object(r.b)("border-bottom:1px solid #dee0f7;font-family:'Inter',sans-serif;",a&&"height: ".concat(a,"px; overflow-y: auto;")," &:last-of-type{border-bottom:none;};label:trackerSettingsCss;"),w=l,m=Object(r.b)("background:",c||"transparent",";align-items:center;display:flex;font-size:",i||"14px",";font-weight:500;margin-bottom:6px;padding:8px;position:sticky;z-index:1;top:0;border-radius:4px;background:#f2f3ff;;label:labelRowCss;"),y=Object(r.b)("min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:",p,"%;;label:domainColCss;"),x=Object(r.b)("align-items:center;display:flex;justify-content:space-around;text-align:center;width:",u,"%;;label:optionsColCss;"),C=b;return Object(r.c)("div",{css:Object(o.a)([j,g||d],";label:TrackerSettings;")},n&&Object(r.c)("div",{css:w},n),Object(r.c)("div",{css:m},Object(r.c)("div",{css:y},Object(s.b)("popupManageTrackersDomainLabel")),Object(r.c)("div",{css:x},Object(r.c)("div",{css:C},Object(s.b)("popupManageTrackersBlockAllLabel")),Object(r.c)("div",{css:C},Object(s.b)("popupManageTrackersBlockCookiesLabel")),Object(r.c)("div",{css:C},Object(s.b)("popupManageTrackersAllowAllLabel")))),Object.entries(t).filter(e=>{var[t,n]=e;return"noaction"!==n.action}).map((e,t)=>{var[n,o]=e;return Object(r.c)(O,{host:n,info:o,index:f?t:void 0,lColWidthPercent:p,rColWidthPercent:u,onActionChange:k,onRevert:h,onConfirmSiteBreak:v})}))},u={name:"bc0p8h-optionSelectCss",styles:"appearance:none;background:#fbfbfd;border:1px solid #ced1dd;border-radius:50%;height:16px;margin:0;padding:0;width:16px;&:focus{outline:none;};label:optionSelectCss;"},f={name:"1f5fkwd-TrackerRow",styles:"display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;;label:TrackerRow;"},g={name:"g6ysrs-TrackerRow",styles:"display:flex;position:relative;;label:TrackerRow;"},k={name:"g6ysrs-TrackerRow",styles:"display:flex;position:relative;;label:TrackerRow;"},h={name:"g6ysrs-TrackerRow",styles:"display:flex;position:relative;;label:TrackerRow;"},v={name:"alc60x-TrackerRow",styles:"margin-right:auto;width:60%;;label:TrackerRow;"},j={name:"1j35ba-TrackerRow",styles:"background:transparent;border:0;color:#ffffff;cursor:pointer;font-size:14px;font-weight:600;margin-right:24px;padding:0;text-decoration:underline;&:focus{outline:none;};label:TrackerRow;"},w={name:"6nrdgt-TrackerRow",styles:"background:transparent;border:0;color:#ffffff;cursor:pointer;font-size:14px;font-weight:600;padding:0;text-decoration:underline;&:focus{outline:none;};label:TrackerRow;"},O=e=>{var t,{host:n,info:l,index:b,lColWidthPercent:d,rColWidthPercent:p,onActionChange:O,onRevert:m,onConfirmSiteBreak:y}=e,[x,C]=Object(a.useState)(!1),T=u,R=Object(r.b)("align-items:center;border-radius:4px;display:flex;font-size:14px;margin:1px 0;padding:10px 8px;input[type='radio']{",T,";};label:trackerRowCss;"),M=Object(r.b)("display:flex;justify-content:space-around;text-align:center;width:",p,"%;;label:optionsColCss;"),B=Object(r.b)("align-items:center;display:flex;min-width:0;width:",d,"%;;label:domainColCss;"),P=Object(r.b)("background:",x||"user_block"===l.action&&l.cookieBlocklisted?"#EB5757":"#6573ff",";border-radius:50%;height:16px;left:0;position:absolute;top:0;width:16px;;label:optionSelectFillCss;"),S=Object(r.b)("background:","user_block"===l.action&&l.cookieBlocklisted?"#EB5757":"#6573ff",";border:none;cursor:pointer;flex-shrink:0;height:16px;margin:0 8px 0 0;mask:url('revert-arrow.svg');padding:0;width:16px;&:focus{outline:none;};label:revertBtnCss;"),F=["user_block","user_allow","user_cookieblock"].includes(l.action),W=e=>{var t=e.target.value;x||(l.cookieBlocklisted&&"block"===t?C(!0):O(n,t))},z=["block","user_block"].includes(l.action)||x,_=["cookieblock","user_cookieblock"].includes(l.action)&&!x,A=["allow","user_allow","dnt"].includes(l.action)&&!x;return Object(r.c)(c.a.Fragment,null,Object(r.c)("div",{css:Object(o.a)([R,Object(r.b)("background:",(t=F,t?"user_block"===l.action&&l.cookieBlocklisted?"#FFEDEE":"#F0F1FF":void 0!==b&&b%2==0?"#fbfbfd":"transparent"),";;label:TrackerRow;")],";label:TrackerRow;")},Object(r.c)("div",{css:B},F&&Object(r.c)("button",{type:"submit",css:S,"aria-label":"revert",onClick:()=>{Object(i.a)(n).then(()=>{m()})}}),Object(r.c)("span",{css:f},n)),Object(r.c)("div",{css:M},Object(r.c)("label",{htmlFor:"".concat(n),css:g},Object(r.c)("input",{type:"radio",checked:z,name:n,value:"block",onChange:W,css:T}),z&&Object(r.c)("span",{css:P})),Object(r.c)("label",{htmlFor:"".concat(n),css:k},Object(r.c)("input",{type:"radio",checked:_,name:n,value:"cookieblock",onChange:W,css:T}),_&&Object(r.c)("span",{css:P})),Object(r.c)("label",{htmlFor:"".concat(n),css:h},Object(r.c)("input",{type:"radio",checked:A&&!x,name:n,value:"allow",onChange:W,css:T}),A&&!x&&Object(r.c)("span",{css:P})))),Object(r.c)("div",{css:Object(o.a)([R,Object(r.b)("background:#eb5757;color:#ffffff;font-weight:600;",!x&&"display: none",";;label:TrackerRow;")],";label:TrackerRow;")},Object(r.c)("div",{css:v},Object(s.b)("popupManageTrackersWarning")),Object(r.c)("button",{type:"submit",onClick:()=>{C(!1),Object(i.b)(n,"block").then(()=>{y()})},css:j},Object(s.b)("popupManageTrackersWarningProceed")),Object(r.c)("button",{type:"submit",onClick:()=>{C(!1)},css:w},Object(s.b)("popupManageTrackersWarningCancel"))))}},413:function(e,t,n){"use strict";n.r(t),function(e){n(22),n(27),n(0);var o=n(1),a=n(44),c=n(249),r=n(385),i=n.n(r),s=n(386),l=n.n(s),b=n(6),d=n(71),p=n(270);var u={name:"ysslze-titleCss",styles:"border-bottom:1px solid #ebecf7;font-weight:600;font-size:22px;padding:16px;;label:titleCss;"},f={name:"gc75tx-ManageTrackers",styles:"padding:0 8px 16px;;label:ManageTrackers;"},g={name:"gc75tx-ManageTrackers",styles:"padding:0 8px 16px;;label:ManageTrackers;"};t.default=()=>{var{trackers:t}=Object(a.c)(d.d),n={};Object.entries(t).forEach(e=>{var[t,o]=e;"major"!==o.type||["allow","dnt"].includes(o.action)||(n[t]=o)});var r={};Object.entries(t).forEach(e=>{var[t,n]=e;"minor"!==n.type||["allow","dnt"].includes(n.action)||(r[t]=n)});var s=u;return Object(o.c)("div",{css:Object(o.b)(l.a,";label:ManageTrackers;")},Object(o.c)(i.a,{style:{height:"444px"}},Object(o.c)("div",{css:s},Object(b.b)("popupManageTrackersTitle")),Object.entries(n).length>0&&Object(o.c)(p.a,{title:Object(b.b)("popupManageTrackersMajorTitle"),labelBgColor:"#fbfbfd",labelFontSize:"11px",trackers:n,lColWidthPercent:46.34,rColWidthPercent:56.35,cssOverrides:f,onActionChange:(t,n)=>{Object(c.b)(t,n).then(()=>{e.runtime.sendMessage({message:"getPrivacyData"})})},onRevert:()=>{e.tabs.reload().then(()=>{window.close()})},onConfirmSiteBreak:()=>{e.runtime.sendMessage({message:"getPrivacyData"})}}),Object.entries(r).length>0&&Object(o.c)(p.a,{title:Object(b.b)("popupManageTrackersMinorTitle"),labelBgColor:"#fbfbfd",labelFontSize:"11px",trackers:r,lColWidthPercent:46.34,rColWidthPercent:56.35,cssOverrides:g,alternateRowColors:!0,onActionChange:(t,n)=>{Object(c.b)(t,n).then(()=>{e.runtime.sendMessage({message:"getPrivacyData"})})},onRevert:()=>{e.tabs.reload().then(()=>{window.close()})},onConfirmSiteBreak:()=>{e.runtime.sendMessage({message:"getPrivacyData"})}})))}}.call(this,n(18))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3AtcHJpdmFjeS9saWIvZXNtL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wcml2YWN5LXNlYXJjaC9jb21wb25lbnRzL0NvbW1vbi9UcmFja2VyU2V0dGluZ3MudHN4Iiwid2VicGFjazovLy8uL3NyYy9wcml2YWN5LXNlYXJjaC9jb21wb25lbnRzL1BvcHVwL01hbmFnZVRyYWNrZXJzLnRzeCJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiZ2V0VGFiIiwidGFiIiwiYnJvd3NlciIsInRhYnMiLCJxdWVyeSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJzZW5kQmFkZ2VyTWVzc2FnZSIsIm1lc3NhZ2UiLCJleHRyYSIsImlkIiwidGFiSWQiLCJ1cmwiLCJ0YWJVcmwiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJPYmplY3QiLCJhc3NpZ24iLCJ0eXBlIiwic2F2ZVBvcHVwVG9nZ2xlIiwib3JpZ2luIiwiYWN0aW9uIiwicmV2ZXJ0RG9tYWluQ29udHJvbCIsIlRyYWNrZXJTZXR0aW5ncyIsInRyYWNrZXJzIiwidGl0bGUiLCJoZWlnaHQiLCJsYWJlbEJnQ29sb3IiLCJsYWJlbEZvbnRTaXplIiwibENvbFdpZHRoUGVyY2VudCIsInJDb2xXaWR0aFBlcmNlbnQiLCJhbHRlcm5hdGVSb3dDb2xvcnMiLCJjc3NPdmVycmlkZXMiLCJvbkFjdGlvbkNoYW5nZSIsIm9uUmV2ZXJ0Iiwib25Db25maXJtU2l0ZUJyZWFrIiwidHJhY2tlclNldHRpbmdzQ3NzIiwiY3NzIiwidGl0bGVDc3MiLCJsYWJlbFJvd0NzcyIsImRvbWFpbkNvbENzcyIsIm9wdGlvbnNDb2xDc3MiLCJvcHRpb25zTGFiZWxDc3MiLCJnZXRNZXNzYWdlIiwiZW50cmllcyIsImZpbHRlciIsImhvc3QiLCJpbmZvIiwibWFwIiwiaSIsIlRyYWNrZXJSb3ciLCJpbmRleCIsInVuZGVmaW5lZCIsInNob3dXYXJuaW5nIiwic2V0U2hvd1dhcm5pbmciLCJ1c2VTdGF0ZSIsIm9wdGlvblNlbGVjdENzcyIsInRyYWNrZXJSb3dDc3MiLCJvcHRpb25TZWxlY3RGaWxsQ3NzIiwiY29va2llQmxvY2tsaXN0ZWQiLCJyZXZlcnRCdG5Dc3MiLCJpc1VzZXJTZXQiLCJpbmNsdWRlcyIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJibG9ja1NlbGVjdGVkIiwiY29va2llQmxvY2tTZWxlY3RlZCIsImFsbG93U2VsZWN0ZWQiLCJhcmlhLWxhYmVsIiwib25DbGljayIsImh0bWxGb3IiLCJjaGVja2VkIiwibmFtZSIsIk1hbmFnZVRyYWNrZXJzIiwidXNlU2VsZWN0b3IiLCJ0YWJEYXRhU2VsZWN0b3IiLCJtYWpvclRyYWNrZXJzIiwiZm9yRWFjaCIsIm1pbm9yVHJhY2tlcnMiLCJzY3JvbGxiYXJTdHlsZSIsInN0eWxlIiwibGVuZ3RoIiwicmVsb2FkIiwid2luZG93IiwiY2xvc2UiXSwibWFwcGluZ3MiOiIyRkFBQSxnRkFnQkEsSUFBSUEsRUFBd0MsU0FBVUMsRUFBU0MsRUFBWUMsRUFBR0MsR0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLEVBQVNDLEdBQy9DLFNBQVNDLEVBQVVDLEdBQVMsSUFBTUMsRUFBS04sRUFBVU8sS0FBS0YsSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUNwRixTQUFTQyxFQUFTSixHQUFTLElBQU1DLEVBQUtOLEVBQWlCLE1BQUVLLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssSUFDdkYsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZUwsRUFJYUssRUFBT0MsS0FBT1QsRUFBUVEsRUFBT0wsUUFKMUNBLEVBSXlESyxFQUFPTCxNQUpoREEsYUFBaUJO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LypcbiAqIENvcHlyaWdodCAoQykgMjAyMiBTdXJmYm9hcmQgSG9sZGluZyBCLlYuIDxodHRwczovL3d3dy5zdGFydHBhZ2UuY29tPlxuICpcbiAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBnZXRUYWIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBbdGFiXSA9IHlpZWxkIGJyb3dzZXIudGFicy5xdWVyeSh7XG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgY3VycmVudFdpbmRvdzogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiB0YWI7XG59KTtcbmNvbnN0IHNlbmRCYWRnZXJNZXNzYWdlID0gKG1lc3NhZ2UsIGV4dHJhKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB7IGlkOiB0YWJJZCwgdXJsOiB0YWJVcmwgfSA9IHlpZWxkIGdldFRhYigpO1xuICAgIHJldHVybiB5aWVsZCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoT2JqZWN0LmFzc2lnbih7IHR5cGU6IG1lc3NhZ2UsIHRhYklkLFxuICAgICAgICB0YWJVcmwgfSwgKGV4dHJhICE9PSBudWxsICYmIGV4dHJhICE9PSB2b2lkIDAgPyBleHRyYSA6IHt9KSkpO1xufSk7XG5leHBvcnQgY29uc3QgcmVzZXREYXRhID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgeyBpZDogdGFiSWQsIHVybDogdGFiVXJsIH0gPSB5aWVsZCBnZXRUYWIoKTtcbiAgICByZXR1cm4geWllbGQgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3Jlc2V0RGF0YScsXG4gICAgICAgIHRhYklkLFxuICAgICAgICB0YWJVcmxcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGNvbnN0IHJlbW92ZUFsbERhdGEgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB7IGlkOiB0YWJJZCwgdXJsOiB0YWJVcmwgfSA9IHlpZWxkIGdldFRhYigpO1xuICAgIHJldHVybiB5aWVsZCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAncmVtb3ZlQWxsRGF0YScsXG4gICAgICAgIHRhYklkLFxuICAgICAgICB0YWJVcmxcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGNvbnN0IGFjdGl2YXRlT25TaXRlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3RyeWluZyB0byBhY3RpdmF0ZScpO1xuICAgIGNvbnN0IHsgaWQ6IHRhYklkLCB1cmw6IHRhYlVybCB9ID0geWllbGQgZ2V0VGFiKCk7XG4gICAgY29uc29sZS5sb2coYCR7dGFiSWR9LCAke3RhYlVybH1gKTtcbiAgICByZXR1cm4geWllbGQgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ2FjdGl2YXRlT25TaXRlJyxcbiAgICAgICAgdGFiSWQsXG4gICAgICAgIHRhYlVybFxuICAgIH0pO1xufSk7XG5leHBvcnQgY29uc3QgZGVhY3RpdmF0ZU9uU2l0ZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHsgaWQ6IHRhYklkLCB1cmw6IHRhYlVybCB9ID0geWllbGQgZ2V0VGFiKCk7XG4gICAgcmV0dXJuIHlpZWxkIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICdkZWFjdGl2YXRlT25TaXRlJyxcbiAgICAgICAgdGFiSWQsXG4gICAgICAgIHRhYlVybFxuICAgIH0pO1xufSk7XG5leHBvcnQgY29uc3QgZ2V0UHJpdmFjeURhdGEgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBkYXRhID0geWllbGQgc2VuZEJhZGdlck1lc3NhZ2UoJ2dldFBvcHVwRGF0YScpO1xuICAgIHJldHVybiBkYXRhO1xufSk7XG5leHBvcnQgY29uc3QgZ2V0UHJpdmFjeU9wdGlvbnMgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBkYXRhID0geWllbGQgc2VuZEJhZGdlck1lc3NhZ2UoJ2dldE9wdGlvbnNEYXRhJyk7XG4gICAgcmV0dXJuIGRhdGE7XG59KTtcbmV4cG9ydCBjb25zdCBzYXZlUG9wdXBUb2dnbGUgPSAob3JpZ2luLCBhY3Rpb24pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiB5aWVsZCBzZW5kQmFkZ2VyTWVzc2FnZSgnc2F2ZVBvcHVwVG9nZ2xlJywge1xuICAgICAgICBvcmlnaW4sXG4gICAgICAgIGFjdGlvblxuICAgIH0pO1xufSk7XG5leHBvcnQgY29uc3QgcmV2ZXJ0RG9tYWluQ29udHJvbCA9IChvcmlnaW4pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiB5aWVsZCBzZW5kQmFkZ2VyTWVzc2FnZSgncmV2ZXJ0RG9tYWluQ29udHJvbCcsIHsgb3JpZ2luIH0pO1xufSk7XG5leHBvcnQgY29uc3QgdXBkYXRlU2V0dGluZ3MgPSAoc2V0dGluZ3MpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiB5aWVsZCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlU2V0dGluZ3MnLFxuICAgICAgICBkYXRhOiBzZXR0aW5nc1xuICAgIH0pO1xufSk7XG5leHBvcnQgY29uc3QgdXBkYXRlUHJpdmFjeU92ZXJyaWRlID0gKHNldHRpbmdzKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB5aWVsZCB1cGRhdGVTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgcmV0dXJuIHlpZWxkIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICdzZXRQcml2YWN5T3ZlcnJpZGUnXG4gICAgfSk7XG59KTtcbmV4cG9ydCBjb25zdCBnZXRNYW5pZmVzdEZyYWdtZW50UGF0aCA9ICgpID0+IHtcbiAgICByZXR1cm4gYG1hbmlmZXN0LWZyYWdtZW50Lmpzb25gO1xufTtcbmV4cG9ydCBjb25zdCBnZXRDb3B5YWJsZXNQYXRocyA9ICgpID0+IHtcbiAgICBjb25zdCBTUkNfUEFUSCA9ICdzcmMnO1xuICAgIGNvbnN0IGNvcHlhYmxlcyA9IFtgJHtTUkNfUEFUSH0vZGF0YWAsIGAke1NSQ19QQVRIfS9qc2AsIGAke1NSQ19QQVRIfS9saWJgLCAnc3AtanMnXTtcbiAgICByZXR1cm4gY29weWFibGVzO1xufTtcbiIsImltcG9ydCBSZWFjdCwge0ZDLCBDaGFuZ2VFdmVudCwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Y3NzLCBTZXJpYWxpemVkU3R5bGVzfSBmcm9tICdAZW1vdGlvbi9jb3JlJztcbmltcG9ydCB7QWN0aW9ucywgcmV2ZXJ0RG9tYWluQ29udHJvbCwgc2F2ZVBvcHVwVG9nZ2xlfSBmcm9tICdzcC1wcml2YWN5JztcblxuaW1wb3J0IHtnZXRNZXNzYWdlfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHtUcmFja2VySW5mbywgVHJhY2tlcnN9IGZyb20gJy4uLy4uL3ByaXZhY3kgdG9vbHMvdHJhY2tlcnMnO1xuXG50eXBlIFRyYWNrZXJTZXR0aW5nc1Byb3BzID0ge1xuICAgIHRpdGxlPzogc3RyaW5nO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICB0cmFja2VyczogVHJhY2tlcnM7XG4gICAgbGFiZWxCZ0NvbG9yPzogc3RyaW5nO1xuICAgIGxhYmVsRm9udFNpemU/OiBzdHJpbmc7XG4gICAgbENvbFdpZHRoUGVyY2VudDogbnVtYmVyO1xuICAgIHJDb2xXaWR0aFBlcmNlbnQ6IG51bWJlcjtcbiAgICBhbHRlcm5hdGVSb3dDb2xvcnM/OiBib29sZWFuO1xuICAgIGNzc092ZXJyaWRlcz86IFNlcmlhbGl6ZWRTdHlsZXM7XG4gICAgb25BY3Rpb25DaGFuZ2U6IChob3N0OiBzdHJpbmcsIGFjdGlvbjogQWN0aW9ucykgPT4gdm9pZDtcbiAgICBvblJldmVydDogKCkgPT4gdm9pZDtcbiAgICBvbkNvbmZpcm1TaXRlQnJlYWs6ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgVHJhY2tlclNldHRpbmdzOiBGQzxUcmFja2VyU2V0dGluZ3NQcm9wcz4gPSAoe1xuICAgIHRyYWNrZXJzLFxuICAgIHRpdGxlLFxuICAgIGhlaWdodCxcbiAgICBsYWJlbEJnQ29sb3IsXG4gICAgbGFiZWxGb250U2l6ZSxcbiAgICBsQ29sV2lkdGhQZXJjZW50LFxuICAgIHJDb2xXaWR0aFBlcmNlbnQsXG4gICAgYWx0ZXJuYXRlUm93Q29sb3JzLFxuICAgIGNzc092ZXJyaWRlcyxcbiAgICBvbkFjdGlvbkNoYW5nZSxcbiAgICBvblJldmVydCxcbiAgICBvbkNvbmZpcm1TaXRlQnJlYWtcbn0pID0+IHtcbiAgICBjb25zdCB0cmFja2VyU2V0dGluZ3NDc3MgPSBjc3NgXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGVlMGY3O1xuICAgICAgICBmb250LWZhbWlseTogJ0ludGVyJywgc2Fucy1zZXJpZjtcbiAgICAgICAgJHtoZWlnaHQgJiYgYGhlaWdodDogJHtoZWlnaHR9cHg7IG92ZXJmbG93LXk6IGF1dG87YH1cblxuICAgICAgICAmOmxhc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHRpdGxlQ3NzID0gY3NzYFxuICAgICAgICBjb2xvcjogIzY1NzNmZjtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICAgIHBhZGRpbmc6IDEycHggOHB4O1xuICAgIGA7XG5cbiAgICBjb25zdCBsYWJlbFJvd0NzcyA9IGNzc2BcbiAgICAgICAgYmFja2dyb3VuZDogJHtsYWJlbEJnQ29sb3IgfHwgJ3RyYW5zcGFyZW50J307XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtsYWJlbEZvbnRTaXplIHx8ICcxNHB4J307XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYmFja2dyb3VuZDogI2YyZjNmZjtcbiAgICBgO1xuXG4gICAgY29uc3QgZG9tYWluQ29sQ3NzID0gY3NzYFxuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICB3aWR0aDogJHtsQ29sV2lkdGhQZXJjZW50fSU7XG4gICAgYDtcblxuICAgIGNvbnN0IG9wdGlvbnNDb2xDc3MgPSBjc3NgXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAke3JDb2xXaWR0aFBlcmNlbnR9JTtcbiAgICBgO1xuXG4gICAgY29uc3Qgb3B0aW9uc0xhYmVsQ3NzID0gY3NzYFxuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLyAzKTtcbiAgICBgO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjc3M9e1t0cmFja2VyU2V0dGluZ3NDc3MsIGNzc092ZXJyaWRlcyB8fCBjc3NgYF19PlxuICAgICAgICAgICAge3RpdGxlICYmIDxkaXYgY3NzPXt0aXRsZUNzc30+e3RpdGxlfTwvZGl2Pn1cbiAgICAgICAgICAgIDxkaXYgY3NzPXtsYWJlbFJvd0Nzc30+XG4gICAgICAgICAgICAgICAgPGRpdiBjc3M9e2RvbWFpbkNvbENzc30+e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNEb21haW5MYWJlbCcpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY3NzPXtvcHRpb25zQ29sQ3NzfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjc3M9e29wdGlvbnNMYWJlbENzc30+e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNCbG9ja0FsbExhYmVsJyl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY3NzPXtvcHRpb25zTGFiZWxDc3N9PntnZXRNZXNzYWdlKCdwb3B1cE1hbmFnZVRyYWNrZXJzQmxvY2tDb29raWVzTGFiZWwnKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjc3M9e29wdGlvbnNMYWJlbENzc30+e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNBbGxvd0FsbExhYmVsJyl9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyh0cmFja2VycylcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW2hvc3QsIGluZm9dKSA9PiBpbmZvLmFjdGlvbiAhPT0gJ25vYWN0aW9uJylcbiAgICAgICAgICAgICAgICAubWFwKChbaG9zdCwgaW5mb10sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFja2VyUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdD17aG9zdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPXtpbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PXthbHRlcm5hdGVSb3dDb2xvcnMgPyBpIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxDb2xXaWR0aFBlcmNlbnQ9e2xDb2xXaWR0aFBlcmNlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgckNvbFdpZHRoUGVyY2VudD17ckNvbFdpZHRoUGVyY2VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbkNoYW5nZT17b25BY3Rpb25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXZlcnQ9e29uUmV2ZXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybVNpdGVCcmVhaz17b25Db25maXJtU2l0ZUJyZWFrfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbnR5cGUgVHJhY2tlclJvd1Byb3BzID0ge1xuICAgIGhvc3Q6IHN0cmluZztcbiAgICBpbmZvOiBUcmFja2VySW5mbztcbiAgICBsQ29sV2lkdGhQZXJjZW50OiBudW1iZXI7XG4gICAgckNvbFdpZHRoUGVyY2VudDogbnVtYmVyO1xuICAgIG9uQWN0aW9uQ2hhbmdlOiAoaG9zdDogc3RyaW5nLCBhY3Rpb246IEFjdGlvbnMpID0+IHZvaWQ7XG4gICAgb25SZXZlcnQ6ICgpID0+IHZvaWQ7XG4gICAgb25Db25maXJtU2l0ZUJyZWFrOiAoKSA9PiB2b2lkO1xuICAgIGluZGV4PzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IFRyYWNrZXJSb3c6IEZDPFRyYWNrZXJSb3dQcm9wcz4gPSAoe1xuICAgIGhvc3QsXG4gICAgaW5mbyxcbiAgICBpbmRleCxcbiAgICBsQ29sV2lkdGhQZXJjZW50LFxuICAgIHJDb2xXaWR0aFBlcmNlbnQsXG4gICAgb25BY3Rpb25DaGFuZ2UsXG4gICAgb25SZXZlcnQsXG4gICAgb25Db25maXJtU2l0ZUJyZWFrXG59KSA9PiB7XG4gICAgY29uc3QgW3Nob3dXYXJuaW5nLCBzZXRTaG93V2FybmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBvcHRpb25TZWxlY3RDc3MgPSBjc3NgXG4gICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmYmZiZmQ7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjZWQxZGQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuXG4gICAgICAgICY6Zm9jdXMge1xuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCB0cmFja2VyUm93Q3NzID0gY3NzYFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgbWFyZ2luOiAxcHggMDtcbiAgICAgICAgcGFkZGluZzogMTBweCA4cHg7XG5cbiAgICAgICAgLyogT3ZlcnJpZGUgZmlyZWZveCByYWRpbyBidXR0b24gc3R5bGVzICovXG4gICAgICAgIGlucHV0W3R5cGU9J3JhZGlvJ10ge1xuICAgICAgICAgICAgJHtvcHRpb25TZWxlY3RDc3N9O1xuICAgICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IG9wdGlvbnNDb2xDc3MgPSBjc3NgXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAke3JDb2xXaWR0aFBlcmNlbnR9JTtcbiAgICBgO1xuXG4gICAgY29uc3QgZG9tYWluQ29sQ3NzID0gY3NzYFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgIHdpZHRoOiAke2xDb2xXaWR0aFBlcmNlbnR9JTtcbiAgICBgO1xuXG4gICAgY29uc3Qgb3B0aW9uU2VsZWN0RmlsbENzcyA9IGNzc2BcbiAgICAgICAgYmFja2dyb3VuZDogJHtzaG93V2FybmluZyB8fCAoaW5mby5hY3Rpb24gPT09ICd1c2VyX2Jsb2NrJyAmJiBpbmZvLmNvb2tpZUJsb2NrbGlzdGVkKSA/ICcjRUI1NzU3JyA6ICcjNjU3M2ZmJ307XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgYDtcblxuICAgIGNvbnN0IHJldmVydEJ0bkNzcyA9IGNzc2BcbiAgICAgICAgYmFja2dyb3VuZDogJHtpbmZvLmFjdGlvbiA9PT0gJ3VzZXJfYmxvY2snICYmIGluZm8uY29va2llQmxvY2tsaXN0ZWQgPyAnI0VCNTc1NycgOiAnIzY1NzNmZid9O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgbWFyZ2luOiAwIDhweCAwIDA7XG4gICAgICAgIG1hc2s6IHVybCgncmV2ZXJ0LWFycm93LnN2ZycpO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB3aWR0aDogMTZweDtcblxuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgaXNVc2VyU2V0ID0gWyd1c2VyX2Jsb2NrJywgJ3VzZXJfYWxsb3cnLCAndXNlcl9jb29raWVibG9jayddLmluY2x1ZGVzKGluZm8uYWN0aW9uKTtcblxuICAgIGNvbnN0IHJlc29sdmVSb3dCZ0NvbG9yID0gKGFjdGl2ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5hY3Rpb24gPT09ICd1c2VyX2Jsb2NrJyAmJiBpbmZvLmNvb2tpZUJsb2NrbGlzdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcjRkZFREVFJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnI0YwRjFGRic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpbmRleCAlIDIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnI2ZiZmJmZCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBldmVudC50YXJnZXQudmFsdWUgYXMgQWN0aW9ucztcblxuICAgICAgICBpZiAoc2hvd1dhcm5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmNvb2tpZUJsb2NrbGlzdGVkICYmIGFjdGlvbiA9PT0gJ2Jsb2NrJykge1xuICAgICAgICAgICAgc2V0U2hvd1dhcm5pbmcodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvbkFjdGlvbkNoYW5nZShob3N0LCBhY3Rpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBibG9ja1NlbGVjdGVkID0gWydibG9jaycsICd1c2VyX2Jsb2NrJ10uaW5jbHVkZXMoaW5mby5hY3Rpb24pIHx8IHNob3dXYXJuaW5nO1xuICAgIGNvbnN0IGNvb2tpZUJsb2NrU2VsZWN0ZWQgPSBbJ2Nvb2tpZWJsb2NrJywgJ3VzZXJfY29va2llYmxvY2snXS5pbmNsdWRlcyhpbmZvLmFjdGlvbikgJiYgIXNob3dXYXJuaW5nO1xuICAgIGNvbnN0IGFsbG93U2VsZWN0ZWQgPSBbJ2FsbG93JywgJ3VzZXJfYWxsb3cnLCAnZG50J10uaW5jbHVkZXMoaW5mby5hY3Rpb24pICYmICFzaG93V2FybmluZztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY3NzPXtbXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXJSb3dDc3MsXG4gICAgICAgICAgICAgICAgICAgIGNzc2BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7cmVzb2x2ZVJvd0JnQ29sb3IoaXNVc2VyU2V0KX07XG4gICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY3NzPXtkb21haW5Db2xDc3N9PlxuICAgICAgICAgICAgICAgICAgICB7aXNVc2VyU2V0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M9e3JldmVydEJ0bkNzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwicmV2ZXJ0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVydERvbWFpbkNvbnRyb2woaG9zdCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJldmVydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aG9zdH1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY3NzPXtvcHRpb25zQ29sQ3NzfT5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPXtgJHtob3N0fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17YmxvY2tTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtob3N0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M9e29wdGlvblNlbGVjdENzc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YmxvY2tTZWxlY3RlZCAmJiA8c3BhbiBjc3M9e29wdGlvblNlbGVjdEZpbGxDc3N9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e2Ake2hvc3R9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjb29raWVCbG9ja1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2hvc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJjb29raWVibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcz17b3B0aW9uU2VsZWN0Q3NzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb29raWVCbG9ja1NlbGVjdGVkICYmIDxzcGFuIGNzcz17b3B0aW9uU2VsZWN0RmlsbENzc30gLz59XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj17YCR7aG9zdH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2FsbG93U2VsZWN0ZWQgJiYgIXNob3dXYXJuaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2hvc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJhbGxvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcz17b3B0aW9uU2VsZWN0Q3NzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHthbGxvd1NlbGVjdGVkICYmICFzaG93V2FybmluZyAmJiA8c3BhbiBjc3M9e29wdGlvblNlbGVjdEZpbGxDc3N9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY3NzPXtbXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXJSb3dDc3MsXG4gICAgICAgICAgICAgICAgICAgIGNzc2BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlYjU3NTc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAkeyFzaG93V2FybmluZyAmJiAnZGlzcGxheTogbm9uZSd9O1xuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDYwJTtcbiAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRNZXNzYWdlKCdwb3B1cE1hbmFnZVRyYWNrZXJzV2FybmluZycpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dXYXJuaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVQb3B1cFRvZ2dsZShob3N0LCAnYmxvY2snKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1TaXRlQnJlYWsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyNHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNXYXJuaW5nUHJvY2VlZCcpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dXYXJuaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJjpmb2N1cyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRNZXNzYWdlKCdwb3B1cE1hbmFnZVRyYWNrZXJzV2FybmluZ0NhbmNlbCcpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvPlxuICAgICk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7RkN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Y3NzfSBmcm9tICdAZW1vdGlvbi9jb3JlJztcbmltcG9ydCB7dXNlU2VsZWN0b3J9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7c2F2ZVBvcHVwVG9nZ2xlfSBmcm9tICdzcC1wcml2YWN5JztcbmltcG9ydCBQZXJmZWN0U2Nyb2xsYmFyIGZyb20gJ3JlYWN0LXBlcmZlY3Qtc2Nyb2xsYmFyJztcbmltcG9ydCBzY3JvbGxiYXJTdHlsZSBmcm9tICdyZWFjdC1wZXJmZWN0LXNjcm9sbGJhci9kaXN0L2Nzcy9zdHlsZXMuY3NzJztcblxuaW1wb3J0IHtnZXRNZXNzYWdlfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHt0YWJEYXRhU2VsZWN0b3J9IGZyb20gJy4uLy4uL3NlbGVjdG9ycy9pbmRleCc7XG5pbXBvcnQge1RyYWNrZXJzfSBmcm9tICcuLi8uLi9wcml2YWN5IHRvb2xzL3RyYWNrZXJzJztcbmltcG9ydCB7VHJhY2tlclNldHRpbmdzfSBmcm9tICcuLi9Db21tb24vVHJhY2tlclNldHRpbmdzJztcblxuY29uc3QgTWFuYWdlVHJhY2tlcnM6IEZDID0gKCkgPT4ge1xuICAgIGNvbnN0IHt0cmFja2Vyc30gPSB1c2VTZWxlY3Rvcih0YWJEYXRhU2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWFqb3JUcmFja2VyczogVHJhY2tlcnMgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyh0cmFja2VycykuZm9yRWFjaCgoW2hvc3QsIGluZm9dKSA9PiB7XG4gICAgICAgIGlmIChpbmZvLnR5cGUgPT09ICdtYWpvcicgJiYgIVsnYWxsb3cnLCAnZG50J10uaW5jbHVkZXMoaW5mby5hY3Rpb24pKSB7XG4gICAgICAgICAgICBtYWpvclRyYWNrZXJzW2hvc3RdID0gaW5mbztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgbWlub3JUcmFja2VyczogVHJhY2tlcnMgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyh0cmFja2VycykuZm9yRWFjaCgoW2hvc3QsIGluZm9dKSA9PiB7XG4gICAgICAgIGlmIChpbmZvLnR5cGUgPT09ICdtaW5vcicgJiYgIVsnYWxsb3cnLCAnZG50J10uaW5jbHVkZXMoaW5mby5hY3Rpb24pKSB7XG4gICAgICAgICAgICBtaW5vclRyYWNrZXJzW2hvc3RdID0gaW5mbztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdGl0bGVDc3MgPSBjc3NgXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlY2Y3O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBmb250LXNpemU6IDIycHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgYDtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICR7c2Nyb2xsYmFyU3R5bGV9XG4gICAgICAgICAgICBgfVxuICAgICAgICA+XG4gICAgICAgICAgICA8UGVyZmVjdFNjcm9sbGJhciBzdHlsZT17e2hlaWdodDogJzQ0NHB4J319PlxuICAgICAgICAgICAgICAgIDxkaXYgY3NzPXt0aXRsZUNzc30+e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNUaXRsZScpfTwvZGl2PlxuICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhtYWpvclRyYWNrZXJzKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFRyYWNrZXJTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNNYWpvclRpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbEJnQ29sb3I9XCIjZmJmYmZkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsRm9udFNpemU9XCIxMXB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrZXJzPXttYWpvclRyYWNrZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgbENvbFdpZHRoUGVyY2VudD17NDYuMzR9XG4gICAgICAgICAgICAgICAgICAgICAgICByQ29sV2lkdGhQZXJjZW50PXs1Ni4zNX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc092ZXJyaWRlcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgOHB4IDE2cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25BY3Rpb25DaGFuZ2U9eyhob3N0LCBhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlUG9wdXBUb2dnbGUoaG9zdCwgYWN0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHttZXNzYWdlOiAnZ2V0UHJpdmFjeURhdGEnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25SZXZlcnQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyLnRhYnMucmVsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybVNpdGVCcmVhaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7bWVzc2FnZTogJ2dldFByaXZhY3lEYXRhJ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhtaW5vclRyYWNrZXJzKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFRyYWNrZXJTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldE1lc3NhZ2UoJ3BvcHVwTWFuYWdlVHJhY2tlcnNNaW5vclRpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbEJnQ29sb3I9XCIjZmJmYmZkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsRm9udFNpemU9XCIxMXB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrZXJzPXttaW5vclRyYWNrZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgbENvbFdpZHRoUGVyY2VudD17NDYuMzR9XG4gICAgICAgICAgICAgICAgICAgICAgICByQ29sV2lkdGhQZXJjZW50PXs1Ni4zNX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc092ZXJyaWRlcz17Y3NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgOHB4IDE2cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlUm93Q29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbkNoYW5nZT17KGhvc3QsIGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVQb3B1cFRvZ2dsZShob3N0LCBhY3Rpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe21lc3NhZ2U6ICdnZXRQcml2YWN5RGF0YSd9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvblJldmVydD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXIudGFicy5yZWxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtU2l0ZUJyZWFrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHttZXNzYWdlOiAnZ2V0UHJpdmFjeURhdGEnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1BlcmZlY3RTY3JvbGxiYXI+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYW5hZ2VUcmFja2VycztcbiJdLCJzb3VyY2VSb290IjoiIn0=